{% extends 'base.html.twig' %}

{% block title %}{{ selectedSubject.getName()|capitalize }}{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="{{ asset('css/style.css') }}">
{% endblock %}

{% block body %}
    {{ include('common/navbar.html.twig', {'subjects': subjects}) }}

    {% set bannerBgImage = 'img/bg-' ~ selectedSubject.getName() ~ '.jpg' %}
    <!-- HEADER -->
    <div class="jumbotron jumbotron-fluid jumbotron-subject bg-secondary"
        style="{{ 'background-image: url(' ~ asset(bannerBgImage) ~ ');' }}">
        <div class="container">
          <h1 class="display-4 text-white banner-text">{{ selectedSubject.getName()|capitalize }}</h1>
          <p class="lead text-white banner-text">Select a card to learn more!</p>
        </div>
    </div>

    <!-- heading for CARDS -->
    <div class="container text-center text-dark mb-4">
        <h2>Choose what you want to learn about!</h2>
    </div>

    {{ include('common/search-box.html.twig') }}

    <!-- CARDS -->
    <section class="container mb-5 nodes-container">
        <div class="row">
            {% for card in cards %}
                {{ include('card/card-preview.html.twig', {'card': card}) }}
            {% endfor %}
            <!-- Add New Card card -->
            <div class="col-sm-6 col-lg-4 col-xl-3 mb-3">
                <div class="card card-new py-4 text-white h-100">
                    <div class="card-body d-flex flex-column justify-content-center align-items-center">
                        <h5 class="card-title h1 text-center text-light banner-text">Create a new card!</h5>
                        <a href="#" class="btn btn-lg btn-light mt-2">Add New</a>
                    </div>
                </div>
            </div>
            <!-- End of the Add New Card card -->
        </div>
    </section>

    {{ include('common/footer.html.twig') }}
    {{ include('common/modals.html.twig') }}
{% endblock body %}

{% block javascripts %}
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="{{ asset('js/addCardModalSetup.js') }}"></script>
    <script src="{{ asset('js/cardSearchSetup.js') }}"></script>
    <script src="{{ asset('js/subjectsPage.js') }}"></script>
{% endblock javascripts %}
